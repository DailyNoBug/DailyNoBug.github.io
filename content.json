[{"title":"open-project","date":"2024-06-30T08:14:24.000Z","path":"2024/06/30/open-project/","text":"开源项目收集本文档收集一些有意思的开源项目： linenoiselinenoise 是一个轻量级、跨平台的 C 语言库，用于命令行输入的处理。该项目最初是由 Salvatore Sanfilippo (antirez) 创建的，以提供一个简单、高效的替代方案，取代 GNU Readline 和 libedit 库。linenoise 的设计目标是保持最小化的代码库，同时提供足够的功能以满足大多数命令行应用程序的需求。 特点 轻量级：linenoise 的代码非常简洁，仅包含几个文件，使其易于理解和维护。 跨平台：支持多种操作系统，包括 Linux、MacOS 和 Windows。 无依赖：不依赖于任何第三方库，仅使用标准 C 库函数。 Unicode 支持：能够正确处理多字节字符和 Unicode 字符。 历史记录管理：支持命令历史记录，可以方便地浏览和编辑之前输入的命令。 自动补全：提供简单的自动补全功能，方便用户快速输入命令。 主要功能 行编辑：支持基本的行编辑功能，如删除、插入、左右移动光标等。 历史记录：可以记录用户输入的历史命令，并在命令行中上下浏览历史记录。 自动补全：通过提供回调函数，可以实现命令的自动补全功能。 多行支持：能够正确处理和显示多行输入。 链接：https://github.com/antirez/linenoise taipyTaipy 是一个用于创建数据驱动应用程序的 Python 库。它旨在帮助开发者快速构建、部署和管理数据科学应用程序，简化了数据流的构建和用户界面的设计。Taipy 通过一组高效的工具和框架，提供了一种灵活且易于使用的方法来处理复杂的数据科学任务。 特点 易于使用：提供简洁的 API 和高层次的抽象，使得开发者能够快速上手，减少了编写样板代码的时间。 灵活性：允许开发者自定义数据流和用户界面，以满足特定的业务需求。 可视化：内置丰富的图表和可视化组件，使得数据展示和交互变得更加直观。 扩展性：支持集成第三方库和工具，能够扩展其功能以适应更多的数据科学场景。 高效性：优化了数据处理和流管理，确保应用程序在大数据环境下的高效运行。 主要组件Taipy 包含几个关键组件，每个组件都专注于特定的功能领域： Taipy Core：用于定义和管理数据流和任务调度的核心库。它帮助开发者设计数据处理管道，并确保任务按顺序执行。 Taipy GUI：用于创建交互式用户界面的工具包。它提供了多种图表和控件，使得数据展示更加生动。 Taipy Config：用于配置和管理应用程序设置的模块。它允许开发者灵活地定义和调整应用程序的行为。 Taipy REST：用于构建 RESTful API 接口，使得应用程序可以轻松地与其他系统或服务进行通信。 链接：https://github.com/Avaiga/taipy 不定期更新…","tags":[]},{"title":"autotest-platform","date":"2024-06-20T18:08:57.000Z","path":"2024/06/21/autotest-platform/","text":"Autotest PlatformAn ssh host management interface. On the left is the ssh connection card, and on the right is the ssh terminal. Click different cards to enter different terminals. The circular plus sign in the lower left can add ssh host cards. There is a hidden - sign on the right side of the card, which appears when the mouse hovers over the card. Click the - sign to delete the card, and the corresponding ssh terminal will also be deleted. There is a hidden area on the right with a &lt; sign. Hovering the mouse over it will pop up a page on the right 1&#x2F;3 area. The upper part of the page is the user’s fixed command card. You can click the + sign to create a new command. Hovering the mouse over a command will pop up a - sign. Click to delete the command. Click the card to execute the command in the left terminal. At the bottom of the page is the history command card. Click the card to execute the command in the left terminal. Hovering the mouse will pop up a - sign. Click to delete the command. 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301/** * v0 by Vercel. * @see https://v0.dev/t/Oz8N7wjr9r6 * Documentation: https://v0.dev/docs#integrating-generated-code-into-your-nextjs-app */\"use client\"import &#123; useState &#125; from \"react\"import &#123; Button &#125; from \"@/components/ui/button\"import &#123; Card, CardContent &#125; from \"@/components/ui/card\"import &#123; Avatar, AvatarImage, AvatarFallback &#125; from \"@/components/ui/avatar\"import &#123; Input &#125; from \"@/components/ui/input\"import &#123; Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription &#125; from \"@/components/ui/dialog\"import &#123; Label &#125; from \"@/components/ui/label\"export default function Component() &#123; const [showModal, setShowModal] = useState(false) const [newHost, setNewHost] = useState(&#123; name: \"\", ip: \"\", &#125;) const handleInputChange = (e) =&gt; &#123; setNewHost(&#123; ...newHost, [e.target.name]: e.target.value, &#125;) &#125; const handleAddHost = () =&gt; &#123; console.log(\"New host:\", newHost) setShowModal(false) &#125; const handleDeleteHost = (host) =&gt; &#123; console.log(\"Deleting host:\", host) &#125; return ( &lt;div className=\"grid grid-cols-[300px_1fr] h-screen w-full\"&gt; &lt;div className=\"bg-muted/40 border-r p-4 flex flex-col gap-4 overflow-auto\"&gt; &lt;div className=\"flex items-center justify-between\"&gt; &lt;h2 className=\"text-lg font-semibold\"&gt;SSH Hosts&lt;/h2&gt; &lt;Button variant=\"ghost\" size=\"icon\" className=\"text-muted-foreground hover:bg-muted\" onClick=&#123;() =&gt; setShowModal(true)&#125; &gt; &lt;CirclePlusIcon className=\"w-6 h-6\" /&gt; &lt;span className=\"sr-only\"&gt;Add new SSH host&lt;/span&gt; &lt;/Button&gt; &lt;/div&gt; &lt;div className=\"grid gap-4\"&gt; &lt;Card className=\"relative group\"&gt; &lt;CardContent className=\"flex items-center justify-between\"&gt; &lt;div className=\"flex items-center gap-3\"&gt; &lt;Avatar&gt; &lt;AvatarImage src=\"/placeholder-user.jpg\" /&gt; &lt;AvatarFallback&gt;HO&lt;/AvatarFallback&gt; &lt;/Avatar&gt; &lt;div&gt; &lt;div className=\"font-medium\"&gt;Production Server&lt;/div&gt; &lt;div className=\"text-sm text-muted-foreground\"&gt;192.168.1.100&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;Button variant=\"ghost\" size=\"icon\" className=\"opacity-0 group-hover:opacity-100 text-muted-foreground hover:bg-muted\" onClick=&#123;() =&gt; handleDeleteHost(\"Production Server\")&#125; &gt; &lt;CircleMinusIcon className=\"w-5 h-5\" /&gt; &lt;span className=\"sr-only\"&gt;Delete SSH host&lt;/span&gt; &lt;/Button&gt; &lt;/CardContent&gt; &lt;/Card&gt; &lt;Card className=\"relative group\"&gt; &lt;CardContent className=\"flex items-center justify-between\"&gt; &lt;div className=\"flex items-center gap-3\"&gt; &lt;Avatar&gt; &lt;AvatarImage src=\"/placeholder-user.jpg\" /&gt; &lt;AvatarFallback&gt;DE&lt;/AvatarFallback&gt; &lt;/Avatar&gt; &lt;div&gt; &lt;div className=\"font-medium\"&gt;Development Server&lt;/div&gt; &lt;div className=\"text-sm text-muted-foreground\"&gt;192.168.1.101&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;Button variant=\"ghost\" size=\"icon\" className=\"opacity-0 group-hover:opacity-100 text-muted-foreground hover:bg-muted\" onClick=&#123;() =&gt; handleDeleteHost(\"Development Server\")&#125; &gt; &lt;CircleMinusIcon className=\"w-5 h-5\" /&gt; &lt;span className=\"sr-only\"&gt;Delete SSH host&lt;/span&gt; &lt;/Button&gt; &lt;/CardContent&gt; &lt;/Card&gt; &lt;Card className=\"relative group\"&gt; &lt;CardContent className=\"flex items-center justify-between\"&gt; &lt;div className=\"flex items-center gap-3\"&gt; &lt;Avatar&gt; &lt;AvatarImage src=\"/placeholder-user.jpg\" /&gt; &lt;AvatarFallback&gt;ST&lt;/AvatarFallback&gt; &lt;/Avatar&gt; &lt;div&gt; &lt;div className=\"font-medium\"&gt;Staging Server&lt;/div&gt; &lt;div className=\"text-sm text-muted-foreground\"&gt;192.168.1.102&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;Button variant=\"ghost\" size=\"icon\" className=\"opacity-0 group-hover:opacity-100 text-muted-foreground hover:bg-muted\" onClick=&#123;() =&gt; handleDeleteHost(\"Staging Server\")&#125; &gt; &lt;CircleMinusIcon className=\"w-5 h-5\" /&gt; &lt;span className=\"sr-only\"&gt;Delete SSH host&lt;/span&gt; &lt;/Button&gt; &lt;/CardContent&gt; &lt;/Card&gt; &lt;/div&gt; &lt;/div&gt; &lt;div className=\"flex flex-col\"&gt; &lt;div className=\"bg-muted/40 border-b p-4 flex items-center justify-between\"&gt; &lt;h2 className=\"text-lg font-semibold\"&gt;SSH Terminal&lt;/h2&gt; &lt;div className=\"flex items-center gap-2\"&gt; &lt;Button variant=\"ghost\" size=\"icon\" className=\"text-muted-foreground hover:bg-muted\"&gt; &lt;SettingsIcon className=\"w-5 h-5\" /&gt; &lt;span className=\"sr-only\"&gt;Settings&lt;/span&gt; &lt;/Button&gt; &lt;Button variant=\"ghost\" size=\"icon\" className=\"text-muted-foreground hover:bg-muted\"&gt; &lt;MaximizeIcon className=\"w-5 h-5\" /&gt; &lt;span className=\"sr-only\"&gt;Maximize&lt;/span&gt; &lt;/Button&gt; &lt;/div&gt; &lt;/div&gt; &lt;div className=\"flex-1 p-4 overflow-auto\"&gt; &lt;div className=\"h-full bg-background rounded-lg border shadow-sm flex flex-col\"&gt; &lt;div className=\"flex-1 p-4\"&gt; &lt;pre className=\"font-mono text-sm whitespace-pre-wrap break-all\"&gt;&#123;`Welcome to the SSH terminal!You are connected to the Production Server.Type 'help' to see available commands.`&#125;&lt;/pre&gt; &lt;/div&gt; &lt;div className=\"border-t p-4 flex items-center gap-2\"&gt; &lt;Input className=\"flex-1\" placeholder=\"Type your command...\" /&gt; &lt;Button variant=\"ghost\" size=\"icon\" className=\"text-muted-foreground hover:bg-muted\"&gt; &lt;SendIcon className=\"w-5 h-5\" /&gt; &lt;span className=\"sr-only\"&gt;Send command&lt;/span&gt; &lt;/Button&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;Dialog open=&#123;showModal&#125; onOpenChange=&#123;setShowModal&#125;&gt; &lt;DialogContent className=\"p-6 bg-background rounded-lg shadow-lg max-w-md w-full\"&gt; &lt;DialogHeader&gt; &lt;DialogTitle&gt;Add New SSH Host&lt;/DialogTitle&gt; &lt;DialogDescription&gt;Enter the details of the new SSH host you want to add.&lt;/DialogDescription&gt; &lt;/DialogHeader&gt; &lt;form onSubmit=&#123;handleAddHost&#125;&gt; &lt;div className=\"grid gap-4\"&gt; &lt;div className=\"space-y-2\"&gt; &lt;Label htmlFor=\"name\"&gt;Name&lt;/Label&gt; &lt;Input id=\"name\" name=\"name\" value=&#123;newHost.name&#125; onChange=&#123;handleInputChange&#125; placeholder=\"Enter host name\" /&gt; &lt;/div&gt; &lt;div className=\"space-y-2\"&gt; &lt;Label htmlFor=\"ip\"&gt;IP Address&lt;/Label&gt; &lt;Input id=\"ip\" name=\"ip\" value=&#123;newHost.ip&#125; onChange=&#123;handleInputChange&#125; placeholder=\"Enter host IP address\" /&gt; &lt;/div&gt; &lt;div className=\"flex justify-end gap-2\"&gt; &lt;Button variant=\"ghost\" onClick=&#123;() =&gt; setShowModal(false)&#125;&gt; Cancel &lt;/Button&gt; &lt;Button type=\"submit\"&gt;Add Host&lt;/Button&gt; &lt;/div&gt; &lt;/div&gt; &lt;/form&gt; &lt;/DialogContent&gt; &lt;/Dialog&gt; &lt;/div&gt; )&#125;function CircleMinusIcon(props) &#123; return ( &lt;svg &#123;...props&#125; xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" &gt; &lt;circle cx=\"12\" cy=\"12\" r=\"10\" /&gt; &lt;path d=\"M8 12h8\" /&gt; &lt;/svg&gt; )&#125;function CirclePlusIcon(props) &#123; return ( &lt;svg &#123;...props&#125; xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" &gt; &lt;circle cx=\"12\" cy=\"12\" r=\"10\" /&gt; &lt;path d=\"M8 12h8\" /&gt; &lt;path d=\"M12 8v8\" /&gt; &lt;/svg&gt; )&#125;function MaximizeIcon(props) &#123; return ( &lt;svg &#123;...props&#125; xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" &gt; &lt;path d=\"M8 3H5a2 2 0 0 0-2 2v3\" /&gt; &lt;path d=\"M21 8V5a2 2 0 0 0-2-2h-3\" /&gt; &lt;path d=\"M3 16v3a2 2 0 0 0 2 2h3\" /&gt; &lt;path d=\"M16 21h3a2 2 0 0 0 2-2v-3\" /&gt; &lt;/svg&gt; )&#125;function SendIcon(props) &#123; return ( &lt;svg &#123;...props&#125; xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" &gt; &lt;path d=\"m22 2-7 20-4-9-9-4Z\" /&gt; &lt;path d=\"M22 2 11 13\" /&gt; &lt;/svg&gt; )&#125;function SettingsIcon(props) &#123; return ( &lt;svg &#123;...props&#125; xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" &gt; &lt;path d=\"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z\" /&gt; &lt;circle cx=\"12\" cy=\"12\" r=\"3\" /&gt; &lt;/svg&gt; )&#125; 1234567891011:root &#123; --radius: 0.625rem;&#125;body &#123; font-family: var(--font-inter), sans-serif;&#125;h1, h2, h3, h4, h5, h6 &#123; font-family: var(--font-inter), sans-serif;&#125; 123456789101112131415161718192021// This is the root layout component for your Next.js app.// Learn more: https://nextjs.org/docs/app/building-your-application/routing/pages-and-layouts#root-layout-requiredimport &#123; Inter &#125; from 'next/font/google'import './styles.css'const inter = Inter(&#123; subsets: ['latin'], display: 'swap', variable: '--font-inter',&#125;)export default function Layout(&#123; children &#125;) &#123; return ( &lt;html lang=\"en\"&gt; &lt;body className=&#123;inter.variable&#125;&gt; &#123;children&#125; &lt;/body&gt; &lt;/html&gt; )&#125;","tags":[]},{"title":"ARM-simulator","date":"2024-06-17T17:19:09.000Z","path":"2024/06/18/ARM-simulator/","text":"ARM-simulator留坑。。待更新","tags":[]},{"title":"hijack_mac","date":"2024-06-16T17:17:51.000Z","path":"2024/06/17/hijack_mac/","text":"mac地址欺骗系统调用劫持通过劫持系统调用，可以拦截和修改应用程序请求的硬件信息，如 MAC 地址。 使用 LD_PRELOAD 劫持 getifaddrs 系统调用 编写劫持库： 创建一个共享库，劫持 getifaddrs 系统调用以返回伪造的 MAC 地址。 1234567891011121314151617181920212223242526272829303132333435363738394041#define _GNU_SOURCE#include &lt;dlfcn.h&gt;#include &lt;ifaddrs.h&gt;#include &lt;netpacket/packet.h&gt;#include &lt;net/if.h&gt;#include &lt;stdio.h&gt;int getifaddrs(struct ifaddrs **ifap) &#123; // 获取原始的 getifaddrs 函数 int (*original_getifaddrs)(struct ifaddrs **); original_getifaddrs = dlsym(RTLD_NEXT, \"getifaddrs\"); // 调用原始 getifaddrs 函数 int result = original_getifaddrs(ifap); if (result != 0) &#123; return result; &#125; // 打印调试信息 printf(\"getifaddrs called\\n\"); // 遍历接口列表并修改 MAC 地址 struct ifaddrs *ifa = *ifap; while (ifa) &#123; if (ifa-&gt;ifa_addr &amp;&amp; ifa-&gt;ifa_addr-&gt;sa_family == AF_PACKET) &#123; struct sockaddr_ll *s = (struct sockaddr_ll *)ifa-&gt;ifa_addr; // 修改 MAC 地址 s-&gt;sll_addr[0] = 0x02; s-&gt;sll_addr[1] = 0x42; s-&gt;sll_addr[2] = 0xac; s-&gt;sll_addr[3] = 0x11; s-&gt;sll_addr[4] = 0x00; s-&gt;sll_addr[5] = 0x02; // 打印调试信息 printf(\"Modified MAC address for interface %s\\n\", ifa-&gt;ifa_name); &#125; ifa = ifa-&gt;ifa_next; &#125; return result;&#125; 编译共享库： 1gcc -shared -fPIC -o libspoof_mac.so spoof_mac.c -ldl 使用 LD_PRELOAD 运行目标程序： 1LD_PRELOAD=./libspoof_mac.so ./target_program 如果出现mac地址欺骗未成功，可以尝试劫持其他相关系统调用，例如 ioctl SIOCGIFHWADDR 是一个特定的 ioctl 请求码，用于获取网络接口的硬件地址（MAC 地址）。ioctl 是一个通用的输入&#x2F;输出控制接口，可以对设备文件进行各种操作，而 SIOCGIFHWADDR 则专门用于网络设备。 SIOCGIFHWADDR 的使用当一个程序想要获取某个网络接口的 MAC 地址时，会使用 ioctl 系统调用并传递 SIOCGIFHWADDR 请求码。这个请求码指示内核返回指定网络接口的硬件地址。 请求的结构在使用 SIOCGIFHWADDR 请求时，通常需要一个 struct ifreq 结构体作为参数。该结构体定义在 &lt;net/if.h&gt; 头文件中，主要包含网络接口的名称和相关信息。 1234567891011121314151617181920212223242526272829303132333435363738394041424344#define _GNU_SOURCE#include &lt;dlfcn.h&gt;#include &lt;sys/ioctl.h&gt;#include &lt;net/if.h&gt;#include &lt;netpacket/packet.h&gt;#include &lt;string.h&gt;#include &lt;stdio.h&gt;#include &lt;stdarg.h&gt;// 定义劫持的 ioctl 函数int ioctl(int fd, unsigned long request, ...) &#123; static int (*original_ioctl)(int, unsigned long, ...); if (!original_ioctl) &#123; original_ioctl = dlsym(RTLD_NEXT, \"ioctl\"); &#125; va_list args; va_start(args, request); int ret; if (request == SIOCGIFHWADDR) &#123; struct ifreq *ifr = va_arg(args, struct ifreq *); ret = original_ioctl(fd, request, ifr); if (ret == 0) &#123; // 打印调试信息 printf(\"Intercepted SIOCGIFHWADDR for interface: %s\\n\", ifr-&gt;ifr_name); // 修改 MAC 地址 ifr-&gt;ifr_hwaddr.sa_data[0] = 0x02; ifr-&gt;ifr_hwaddr.sa_data[1] = 0x42; ifr-&gt;ifr_hwaddr.sa_data[2] = 0xac; ifr-&gt;ifr_hwaddr.sa_data[3] = 0x11; ifr-&gt;ifr_hwaddr.sa_data[4] = 0x00; ifr-&gt;ifr_hwaddr.sa_data[5] = 0x02; // 打印调试信息 printf(\"Modified MAC address for interface %s\\n\", ifr-&gt;ifr_name); &#125; &#125; else &#123; ret = original_ioctl(fd, request, va_arg(args, void *)); &#125; va_end(args); return ret;&#125;","tags":[]}]